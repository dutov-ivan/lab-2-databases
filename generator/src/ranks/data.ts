import type { AttributeEnum } from "../common/AttributeType.ts";
import type { UNITS } from "../measurement_units/data.ts";

export type GeneratedRank = {
  name: string; // Назва рангу (наприклад, "Молодший лейнтенант", "Капітан 3 рангу", "Коммодор" тощо)
  description: string; // Опис рангу
  rankValue: number; // Числове значення рангу для порівняння (наприклад, 1 для найнижчого рангу, 10 для найвищого)
};

export type GeneratedRankCategory = {
  name: string; // Назва категорії рангів (наприклад, "Офіцерський склад", "Сержантський склад" тощо)
  description: string; // Опис категорії
  minRank: number; // Мінімальне значення рангу у категорії
  maxRank: number; // Максимальне значення рангу в категорії
};

// Це є атрибут звання, що є притаманним певній людині (військовослужбовцю) та має залежність від звання (наприклад, "дата закінчення академії")
export type GeneratedRankAttribute = {
  name: string; // Назва атрибута (наприклад, "дата закінчення академії", "дата присвоєння генеральського звання" тощо)
  type: AttributeEnum; // Тип даних атрибута;
  is_enum: boolean; // Чи є цей атрибут таким, що має обмежений набір значень (ENUM)
  is_required: boolean; // Чи є цей атрибут обов'язковим для заповнення
  unit?: (typeof UNITS)[number]["abbreviation"]; // Одиниця виміру, якщо застосовно (має бути одним із значень масиву units, наприклад, "рік", "місяць" тощо)
  description?: string; // Опис атрибута для кращого розуміння його призначення
  enum_values?: string[]; // Якщо тип ENUM, то можливі значення
  assignedToRanks?: string[]; // Масив назв рангів, яким призначений цей атрибут (використовується, якщо атрибут не є універсальним для всіх рангів)
};

/*
 * ======================================================
 * ЗВАННЯ (RANKS)
 * ======================================================
 * Зібрані звання ЗСУ (сухопутні/повітряні сили)
 * з унікальними 'rankValue' для сортування.
 */
export const RANKS: GeneratedRank[] = [
  // Рядовий склад
  {
    name: "Рекрут",
    description: "Особа, яка проходить базову військову підготовку.",
    rankValue: 10,
  },
  {
    name: "Солдат",
    description: "Базове звання рядового складу.",
    rankValue: 20,
  },
  {
    name: "Старший солдат",
    description: "Звання, що присвоюється за зразкове виконання обов'язків.",
    rankValue: 30,
  },

  // Сержантський склад
  {
    name: "Молодший сержант",
    description: "Перше звання сержантського складу.",
    rankValue: 40,
  },
  {
    name: "Сержант",
    description: "Основне звання молодшого сержантського складу.",
    rankValue: 50,
  },
  {
    name: "Старший сержант",
    description: "Звання молодшого сержантського складу.",
    rankValue: 60,
  },
  {
    name: "Головний сержант",
    description: "Звання старшого сержантського складу (рівень взводу).",
    rankValue: 70,
  },
  {
    name: "Штаб-сержант",
    description: "Звання старшого сержантського складу (рівень роти).",
    rankValue: 80,
  },
  {
    name: "Майстер-сержант",
    description: "Звання вищого сержантського складу (рівень батальйону).",
    rankValue: 90,
  },
  {
    name: "Старший майстер-сержант",
    description: "Звання вищого сержантського складу (рівень бригади).",
    rankValue: 100,
  },
  {
    name: "Головний майстер-сержант",
    description: "Найвище звання сержантського складу (вищі рівні).",
    rankValue: 110,
  },

  // Офіцерський склад (Молодший)
  {
    name: "Молодший лейтенант",
    description: "Перше звання молодшого офіцерського складу.",
    rankValue: 120,
  },
  {
    name: "Лейтенант",
    description: "Звання молодшого офіцерського складу.",
    rankValue: 130,
  },
  {
    name: "Старший лейтенант",
    description: "Звання молодшого офіцерського складу.",
    rankValue: 140,
  },
  {
    name: "Капітан",
    description: "Звання молодшого офіцерського складу.",
    rankValue: 150,
  },

  // Офіцерський склад (Старший)
  {
    name: "Майор",
    description: "Перше звання старшого офіцерського складу.",
    rankValue: 160,
  },
  {
    name: "Підполковник",
    description: "Звання старшого офіцерського складу.",
    rankValue: 170,
  },
  {
    name: "Полковник",
    description: "Найвище звання старшого офіцерського складу.",
    rankValue: 180,
  },

  // Офіцерський склад (Вищий)
  {
    name: "Бригадний генерал",
    description: "Перше звання вищого офіцерського складу (генералітет).",
    rankValue: 190,
  },
  {
    name: "Генерал-майор",
    description: "Звання вищого офіцерського складу.",
    rankValue: 200,
  },
  {
    name: "Генерал-лейтенант",
    description: "Звання вищого офіцерського складу.",
    rankValue: 210,
  },
  {
    name: "Генерал",
    description: "Найвище військове звання у мирний час.",
    rankValue: 220,
  },
];

/*
 * ======================================================
 * КАТЕГОРІЇ ЗВАНЬ (RANK CATEGORIES)
 * ======================================================
 * Групування звань відповідно до 'rankValue'.
 */
export const RANK_CATEGORIES: GeneratedRankCategory[] = [
  {
    name: "Рядовий і сержантський склад",
    description: "Включає рядових та весь професійний сержантський корпус.",
    minRank: 10,
    maxRank: 110,
  },
  {
    name: "Офіцерський склад",
    description: "Включає молодших, старших та вищих офіцерів.",
    minRank: 120,
    maxRank: 220,
  },
];

/*
 * ======================================================
 * АТРИБУТИ ЗВАНЬ (RANK ATTRIBUTES)
 * ======================================================
 * Атрибути, що стосуються звання, а не особистих даних.
 *
 * Допоміжні масиви для 'assignedToRanks':
 * const NCO_RANKS = ["Молодший сержант", "Сержант", "Старший сержант", "Головний сержант", "Штаб-сержант", "Майстер-сержант", "Старший майстер-сержант", "Головний майстер-сержант"];
 * const OFFICER_RANKS = ["Молодший лейтенант", "Лейтенант", "Старший лейтенант", "Капітан", "Майор", "Підполковник", "Полковник", "Бригадний генерал", "Генерал-майор", "Генерал-лейтенант", "Генерал"];
 * const GENERAL_RANKS = ["Бригадний генерал", "Генерал-майор", "Генерал-лейтенант", "Генерал"];
 * const STRATEGIC_RANKS = ["Полковник", "Бригадний генерал", "Генерал-майор", "Генерал-лейтенант", "Генерал"];
 */
export const RANK_ATTRIBUTES: GeneratedRankAttribute[] = [
  // --- 1. Атрибути присвоєння ---
  {
    name: "Дата присвоєння поточного звання",
    type: "DATE",
    is_enum: false,
    is_required: true,
    description: "Дата наказу про присвоєння поточного звання.",
  },
  {
    name: "Номер наказу про присвоєння",
    type: "STRING",
    is_enum: false,
    is_required: true,
  },
  {
    name: "Причина присвоєння",
    type: "STRING",
    is_enum: true,
    is_required: true,
    enum_values: [
      "Чергове",
      "Дострокове",
      "Позачергове",
      "За контрактом",
      "Після закінчення ВВНЗ",
      "У порядку переатестації",
    ],
  },
  {
    name: "Дата присвоєння попереднього звання",
    type: "DATE",
    is_enum: false,
    is_required: false,
  },
  {
    name: "Присвоєно (Ким)",
    type: "STRING",
    is_enum: false,
    is_required: false,
    description:
      "Посадова особа або орган, що присвоїв звання (напр., 'Міністр оборони України').",
  },
  {
    name: "Дата першого офіцерського звання",
    type: "DATE",
    is_enum: false,
    is_required: false,
    assignedToRanks: [
      "Молодший лейтенант",
      "Лейтенант",
      "Старший лейтенант",
      "Капітан",
      "Майор",
      "Підполковник",
      "Полковник",
      "Бригадний генерал",
      "Генерал-майор",
      "Генерал-лейтенант",
      "Генерал",
    ],
  },
  {
    name: "Дата першого сержантського звання",
    type: "DATE",
    is_enum: false,
    is_required: false,
    assignedToRanks: [
      "Молодший сержант",
      "Сержант",
      "Старший сержант",
      "Головний сержант",
      "Штаб-сержант",
      "Майстер-сержант",
      "Старший майстер-сержант",
      "Головний майстер-сержант",
    ],
  },

  // --- 2. Атрибути вислуги ---
  {
    name: "Мінімальний термін вислуги у званні",
    type: "INT",
    is_enum: false,
    is_required: true,
    unit: "рік",
    description:
      "Встановлений законом мінімальний термін для отримання наступного звання.",
  },
  {
    name: "Фактична вислуга у поточному званні",
    type: "INT",
    is_enum: false,
    is_required: true,
    unit: "місяць",
  },
  {
    name: "Граничний вік перебування у званні",
    type: "INT",
    is_enum: false,
    is_required: true,
    unit: "рік",
  },
  {
    name: "Загальна календарна вислуга",
    type: "INT",
    is_enum: false,
    is_required: true,
    unit: "день",
    description: "Загальна кількість днів на військовій службі.",
  },
  {
    name: "Загальна пільгова вислуга",
    type: "INT",
    is_enum: false,
    is_required: false,
    unit: "день",
    description:
      "Вислуга, розрахована з урахуванням участі у бойових діях (напр., 1 до 3).",
  },
  {
    name: "Вислуга для наступного звання зарахована",
    type: "BOOL",
    is_enum: false,
    is_required: true,
    description:
      "Чи зараховано вислугу з попереднього звання при достроковому присвоєнні.",
  },

  // --- 3. Атрибути кваліфікації ---
  {
    name: "Необхідний рівень освіти для звання",
    type: "STRING",
    is_enum: true,
    is_required: true,
    enum_values: [
      "Базова середня",
      "Повна середня",
      "Фахова передвища",
      "Бакалавр",
      "Магістр",
      "Доктор філософії",
    ],
  },
  {
    name: "Дата закінчення академії / ВВНЗ",
    type: "DATE",
    is_enum: false,
    is_required: false,
    description: "Дата закінчення вищого військового навчального закладу.",
    assignedToRanks: [
      "Молодший лейтенант",
      "Лейтенант",
      "Старший лейтенант",
      "Капітан",
      "Майор",
      "Підполковник",
      "Полковник",
      "Бригадний генерал",
      "Генерал-майор",
      "Генерал-лейтенант",
      "Генерал",
    ],
  },
  {
    name: "Назва ВВНЗ",
    type: "STRING",
    is_enum: false,
    is_required: false,
    assignedToRanks: [
      "Молодший лейтенант",
      "Лейтенант",
      "Старший лейтенант",
      "Капітан",
      "Майор",
      "Підполковник",
      "Полковник",
      "Бригадний генерал",
      "Генерал-майор",
      "Генерал-лейтенант",
      "Генерал",
    ],
  },
  {
    name: "Наявність курсів лідерства",
    type: "BOOL",
    is_enum: false,
    is_required: true,
    assignedToRanks: [
      "Молодший сержант",
      "Сержант",
      "Старший сержант",
      "Головний сержант",
      "Штаб-сержант",
      "Майстер-сержант",
      "Старший майстер-сержант",
      "Головний майстер-сержант",
    ],
  },
  {
    name: "Рівень курсів лідерства",
    type: "STRING",
    is_enum: true,
    is_required: false,
    enum_values: [
      "L1 (Базовий)",
      "L2 (Середній)",
      "L3 (Підвищений)",
      "L4 (Вищий)",
    ],
    assignedToRanks: [
      "Молодший сержант",
      "Сержант",
      "Старший сержант",
      "Головний сержант",
      "Штаб-сержант",
      "Майстер-сержант",
      "Старший майстер-сержант",
      "Головний майстер-сержант",
    ],
  },
  {
    name: "Класність (рівень фахівця)",
    type: "STRING",
    is_enum: true,
    is_required: false,
    enum_values: [
      "Без класності",
      "3-й клас",
      "2-й клас",
      "1-й клас",
      "Майстер",
    ],
  },
  {
    name: "Володіння іноземною мовою (рівень СМР)",
    type: "STRING",
    is_enum: true,
    is_required: false,
    description: "Рівень володіння мовою за стандартом НАТО (STANAG 6001)",
    enum_values: ["СМР 0", "СМР 1", "СМР 2", "СМР 3", "СМР 4"],
  },
  {
    name: "Допуск до державної таємниці (Форма)",
    type: "INT",
    is_enum: true,
    is_required: false,
    description: "Форма допуску (1, 2 або 3)",
    enum_values: ["1", "2", "3"],
  },

  // --- 4. Атрибути атестації ---
  {
    name: "Дата останньої атестації",
    type: "DATE",
    is_enum: false,
    is_required: false,
  },
  {
    name: "Результат останньої атестації",
    type: "STRING",
    is_enum: true,
    is_required: false,
    enum_values: [
      "Відповідає займаній посаді",
      "Відповідає займаній посаді (рекомендовано на вищу)",
      "Не відповідає займаній посаді",
    ],
  },
  {
    name: "Наявність чинної догани",
    type: "BOOL",
    is_enum: false,
    is_required: true,
    description:
      "Чинна догана, що блокує просування по службі або преміювання.",
  },
  {
    name: "Дата накладення останнього стягнення",
    type: "DATE",
    is_enum: false,
    is_required: false,
  },
  {
    name: "Дата зняття останнього стягнення",
    type: "DATE",
    is_enum: false,
    is_required: false,
  },

  // --- 5. Специфічні атрибути ---
  {
    name: "Дата присвоєння генеральського звання",
    type: "DATE",
    is_enum: false,
    is_required: false,
    description:
      "Дата указу Президента про присвоєння першого генеральського звання.",
    assignedToRanks: [
      "Бригадний генерал",
      "Генерал-майор",
      "Генерал-лейтенант",
      "Генерал",
    ],
  },
  {
    name: "Досвід командування (рівень)",
    type: "STRING",
    is_enum: true,
    is_required: false,
    description: "Найвищий рівень підрозділу, яким командував.",
    enum_values: [
      "Відділення",
      "Взвод",
      "Рота",
      "Батальйон",
      "Бригада",
      "Корпус",
      "Вид ЗС",
    ],
  },
  {
    name: "Закінчення курсу стратегічного рівня",
    type: "BOOL",
    is_enum: false,
    is_required: false,
    description:
      "Наприклад, Національний університет оборони України ім. Черняховського.",
    assignedToRanks: [
      "Полковник",
      "Бригадний генерал",
      "Генерал-майор",
      "Генерал-лейтенант",
      "Генерал",
    ],
  },

  // --- 6. Метадані звання ---
  {
    name: "Код звання за НАТО (STANAG 2116)",
    type: "STRING",
    is_enum: false,
    is_required: true,
    description: "Наприклад, OF-1 (Лейтенант) або OR-7 (Старший сержант).",
  },
  {
    name: "Оклад за військовим званням",
    type: "FLOAT",
    is_enum: false,
    is_required: true,
    description: "Встановлений державою грошовий оклад для цього звання.",
  },
  {
    name: "Вид звання (війська)",
    type: "STRING",
    is_enum: true,
    is_required: true,
    enum_values: ["Загальновійськове", "Корабельне"],
  },
  {
    name: "Статус звання",
    type: "STRING",
    is_enum: true,
    is_required: true,
    description: "Поточний стан військовослужбовця.",
    enum_values: ["Дійсне", "В запасі", "У відставці"],
  },
];
